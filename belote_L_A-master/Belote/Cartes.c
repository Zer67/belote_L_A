//
//  Cartes.c
//  Belote
//
//  Created by Michel HESSE on 08/05/2020.
//  Copyright © 2020 Léonard HESSE. All rights reserved.
//

#include "Cartes.h"


void DistributeCards (char** North, char** South, char** East, char** West) {
    srand(time(0));
    char** Cards = (char**)malloc(sizeof(char*)*32);
    
    
    char TotalCards[32][8] = {"1_Hea", "7_Hea", "8_Hea","9_Hea","10_Hea","Ja_Hea","Qu_Hea","Ki_Hea","1_Dia","7_Dia","8_Dia","9_Dia","10_Dia","Ja_Dia","Qu_Dia","Ki_Dia","1_Spa","7_Spa","8_Spa","9_Spa","10_Spa","Ja_Spa","Qu_Spa","Ki_Spa","1_Clu","7_Clu","8_Clu","9_Clu","10_Clu","Ja_Clu","Qu_Clu","Ki_Clu"};

    for (int i = 0; i<32; i++) {
        Cards[i] = (char*)malloc(sizeof(char)*6);
        memcpy(Cards[i], TotalCards[i], sizeof(char)*6);
    }
    
   
    int l = 0;
    
/*
 ************************************************************************************************************************************************
 ************************************************************Initializing North's hand***********************************************************
  ************************************************************************************************************************************************
 */
    
    printf("North : ");
    for (int i = 0; i < 8; i++) {
        int a = rand()%(31-l);
        printf("%s, ",Cards[a]);
        North[i] = Cards[a];
        
        for (int u = a; u < 31-l; u++) {
            Cards[u] = Cards[u+1];
        }
        Cards = (char**)realloc(Cards, sizeof(char*)*(31-l));
        l++;
    }
    
/*
************************************************************************************************************************************************
************************************************************Initializing East's hand***********************************************************
 ************************************************************************************************************************************************
*/

    printf("\nEast : ");
    for (int i = 0; i < 8; i++) {
        int a = rand()%(31-l);
        printf("%s, ",Cards[a]);
        East[i] = Cards[a];
        
        for (int u = a; u < 31-l; u++) {
            Cards[u] = Cards[u+1];
        }
        Cards = (char**)realloc(Cards, sizeof(char*)*(31-l));
        l++;
    }
    

/*
************************************************************************************************************************************************
************************************************************Initializing South's hand***********************************************************
 ************************************************************************************************************************************************
*/
    printf("\nSouth : ");
    for (int i = 0; i < 8; i++) {
        int a = rand()%(31-l);
        South[i] = Cards[a];
        printf("%s, ",Cards[a]);
        
        for (int u = a; u < 31-l; u++) {
            Cards[u] = Cards[u+1];
        }
        Cards = (char**)realloc(Cards, sizeof(char*)*(31-l));
        l++;
    }
    

/*
************************************************************************************************************************************************
************************************************************Initializing West's hand***********************************************************
 ************************************************************************************************************************************************
*/
    printf("\nWest : ");
    for (int i = 0; i <= 31-l; i++) {
        West[i] = Cards[i];
        printf("%s, ",Cards[i]);
        
    }
    printf("\n");
    free(Cards);
    
}
